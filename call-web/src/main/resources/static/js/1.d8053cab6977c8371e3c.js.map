{"version":3,"sources":["webpack:///./node_modules/_core-js@2.6.11@core-js/library/fn/object/keys.js","webpack:///./node_modules/_core-js@2.6.11@core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/keys.js","webpack:///./node_modules/_core-js@2.6.11@core-js/library/modules/_object-sap.js","webpack:///./src/utils/util.js","webpack:///src/views/split_file.vue","webpack:///./src/views/split_file.vue?a8c3","webpack:///./src/views/split_file.vue"],"names":["__webpack_require__","module","exports","Object","keys","toObject","$keys","it","default","__esModule","$export","core","fails","KEY","exec","fn","exp","S","F","util","now","flag","year","getFullYear","month","getMonth","date","getDate","hour","getHours","min","getMinutes","sec","getSeconds","baseURL","base_url","split_file","data","options","value","label","showRes","result","uploadUrl","loading","splitFileTimer","ruleForm","headerRowNum","fileNum","sheetName","splitSheetName","fileDate","rules","required","message","trigger","created","this","Date","beforeDestroy","clearInterval","methods","sheetNameChange","val","submitForm","formName","_ref","_this","$refs","validate","asyncToGenerator_default","regenerator_default","a","mark","_callee","valid","wrap","_context","prev","next","upload","submit","abrupt","stop","_x","apply","arguments","handleSuccessUpload","res","_this2","status","setInterval","getSplitFileResult","element_ui_common","type","duration","showClose","fileName","_this3","_callee2","_context2","api","sent","running","runningResult","views_split_file","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","model","label-width","size","prop","callback","$$v","$set","expression","_v","placeholder","on","change","_l","item","key","action","limit","accept","on-success","auto-upload","slot","directives","name","rawName","click","$event","center","show-icon","effect","title","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.d8053cab6977c8371e3c.js","sourcesContent":["require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.11@core-js/library/fn/object/keys.js\n// module id = 0k87\n// module chunks = 1","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.11@core-js/library/modules/es6.object.keys.js\n// module id = SSy3\n// module chunks = 1","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/keys.js\n// module id = ZLEe\n// module chunks = 1","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.11@core-js/library/modules/_object-sap.js\n// module id = adHB\n// module chunks = 1","/**\r\n * Created by Administrator on 2017/9/21 0021.\r\n * 封装常用工具函数,包含对原生基本类型的扩展\r\n */\r\nconst weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\nexport const util = {\r\n  getCurDate () {\r\n    var date = new Date()\r\n    var year = date.getFullYear()\r\n    var month = date.getMonth() + 1\r\n    var day = date.getDate()\r\n    month = month.toString().length > 1 ? month : '0' + month\r\n    day = day.toString().length > 1 ? day : '0' + day\r\n    return { year, month, day }\r\n  },\r\n  getCurTime () {\r\n    var date = new Date()\r\n\r\n    var hours = date.getHours()\r\n    var minutes = date.getMinutes()\r\n    var seconds = date.getSeconds()\r\n\r\n    hours = hours.toString().length > 1 ? hours : '0' + hours\r\n    minutes = minutes.toString().length > 1 ? minutes : '0' + minutes\r\n    seconds = seconds.toString().length > 1 ? seconds : '0' + seconds\r\n\r\n    return { hours, minutes, seconds }\r\n  },\r\n  getWeek () {\r\n    var date = new Date()\r\n    var week = weeks[date.getDay()]\r\n    return { week }\r\n  },\r\n  getCurDateTimeWeek () {\r\n    var date = this.getCurDate()\r\n    var time = this.getCurTime()\r\n    var week = this.getWeek()\r\n\r\n    return (\r\n      date.year +\r\n      '-' +\r\n      date.month +\r\n      '-' +\r\n      date.day +\r\n      ' ' +\r\n      time.hours +\r\n      ':' +\r\n      time.minutes +\r\n      ':' +\r\n      time.seconds +\r\n      ' ' +\r\n      week.week\r\n    )\r\n  },\r\n  dateToStr (now, flag) {\r\n    if (!now) return ''\r\n    if (typeof now === 'string') return now\r\n    var year = now.getFullYear()\r\n    var month = now.getMonth() + 1\r\n    var date = now.getDate()\r\n    var hour = now.getHours()\r\n    var min = now.getMinutes()\r\n    var sec = now.getSeconds()\r\n    if (month < 10) {\r\n      month = '0' + month\r\n    }\r\n    if (date < 10) {\r\n      date = '0' + date\r\n    }\r\n    if (hour < 10) {\r\n      hour = '0' + hour\r\n    }\r\n    if (min < 10) {\r\n      min = '0' + min\r\n    }\r\n    if (sec < 10) {\r\n      sec = '0' + sec\r\n    }\r\n    if (flag === 1) {\r\n      return year + '-' + month + '-' + date\r\n    } else if (flag === 2) {\r\n      return hour + ':' + min\r\n    } else if (flag === 3) {\r\n      return year + '-' + month + '-' + date + ' ' + hour + ':' + min\r\n    }\r\n  },\r\n  timeToStr (now, flag) {\r\n    if (!now) return ''\r\n    now = new Date(now)\r\n    var year = now.getFullYear()\r\n    var month = now.getMonth() + 1\r\n    var date = now.getDate()\r\n    var hour = now.getHours()\r\n    var min = now.getMinutes()\r\n    var sec = now.getSeconds()\r\n    if (month < 10) {\r\n      month = '0' + month\r\n    }\r\n    if (date < 10) {\r\n      date = '0' + date\r\n    }\r\n    if (hour < 10) {\r\n      hour = '0' + hour\r\n    }\r\n    if (min < 10) {\r\n      min = '0' + min\r\n    }\r\n    if (sec < 10) {\r\n      sec = '0' + sec\r\n    }\r\n    if (flag === 1) {\r\n      return year + '-' + month + '-' + date\r\n    } else if (flag === 2) {\r\n      return hour + ':' + min + ':' + sec\r\n    } else if (flag === 3) {\r\n      return year + '-' + month + '-' + date + ' ' + hour + ':' + min + ':' + sec\r\n    } else if (flag === 4) {\r\n      return month + '-' + date + ' ' + hour + ':' + min + ':' + sec\r\n    } else if (flag === 5) {\r\n      return month + '-' + date\r\n    }\r\n  },\r\n  getCurDateTime () {\r\n    var now = new Date()\r\n    var month = now.getMonth() + 1\r\n    var date = now.getDate()\r\n    var hour = now.getHours()\r\n    var min = now.getMinutes()\r\n    var sec = now.getSeconds()\r\n    var time = '下午'\r\n    if (month < 10) {\r\n      month = '0' + month\r\n    }\r\n    if (date < 10) {\r\n      date = '0' + date\r\n    }\r\n    if (hour < 12) {\r\n      time = '上午'\r\n    }\r\n    if (hour < 10) {\r\n      hour = '0' + hour\r\n    }\r\n    if (min < 10) {\r\n      min = '0' + min\r\n    }\r\n    if (sec < 10) {\r\n      sec = '0' + sec\r\n    }\r\n    return month + '月' + date + ' ' + hour + ':' + min + ':' + sec + ' ' + time\r\n  },\r\n  extend () {\r\n    var options\r\n    var name\r\n    var src\r\n    var copy\r\n    var copyIsArray\r\n    var clone\r\n    var target = arguments[0] || {}\r\n    var i = 1\r\n    var length = arguments.length\r\n    var deep = false\r\n\r\n    // Handle a deep copy situation\r\n    if (typeof target === 'boolean') {\r\n      deep = target\r\n\r\n      // Skip the boolean and the target\r\n      target = arguments[i] || {}\r\n      i++\r\n    }\r\n\r\n    // Handle case when target is a string or something (possible in deep copy)\r\n    if (typeof target !== 'object' && typeof target !== 'function') {\r\n      target = {}\r\n    }\r\n\r\n    // Extend jQuery itself if only one argument is passed\r\n    if (i === length) {\r\n      target = this\r\n      i--\r\n    }\r\n\r\n    for (; i < length; i++) {\r\n      // Only deal with non-null/undefined values\r\n      if ((options = arguments[i]) != null) {\r\n        // Extend the base object\r\n        for (name in options) {\r\n          src = target[name]\r\n          copy = options[name]\r\n\r\n          // Prevent never-ending loop\r\n          if (target === copy) {\r\n            continue\r\n          }\r\n\r\n          // Recurse if we're merging plain objects or arrays\r\n          if (deep && copy && (copy.constructor === Object || (copyIsArray = Array.isArray(copy)))) {\r\n            if (copyIsArray) {\r\n              copyIsArray = false\r\n              clone = src && Array.isArray(src) ? src : []\r\n            } else {\r\n              clone = src && src.constructor === Object ? src : {}\r\n            }\r\n\r\n            // Never move original objects, clone them\r\n            target[name] = this.extend(deep, clone, copy)\r\n\r\n            // Don't bring in undefined values\r\n          } else if (copy !== undefined) {\r\n            target[name] = copy\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // Return the modified object\r\n    return target\r\n  },\r\n  deepCopy (obj, cache = []) {\r\n    function find (list, f) {\r\n      return list.filter(f)[0]\r\n    }\r\n    // just return if obj is immutable value\r\n    if (obj === null || typeof obj !== 'object' || obj instanceof RegExp) {\r\n      return obj\r\n    }\r\n\r\n    // if obj is hit, it is in circular structure\r\n    const hit = find(cache, c => c.original === obj)\r\n    if (hit) {\r\n      return hit.copy\r\n    }\r\n\r\n    const copy = Array.isArray(obj) ? [] : {}\r\n    // put the copy into cache at first\r\n    // because we want to refer it in recursive deepCopy\r\n    cache.push({\r\n      original: obj,\r\n      copy\r\n    })\r\n\r\n    Object.keys(obj).forEach(key => {\r\n      copy[key] = this.deepCopy(obj[key], cache)\r\n    })\r\n\r\n    return copy\r\n  },\r\n  isObject: input => typeof input === 'object' && !(input instanceof Array),\r\n  isEmptyObject (e) {\r\n    let t\r\n    for (t in e) {\r\n      return !1\r\n    }\r\n    return !0\r\n  },\r\n  param2Obj (url) {\r\n    const search = url.split('?')[1]\r\n    if (!search) {\r\n      return {}\r\n    }\r\n    return JSON.parse(\r\n      '{\"' +\r\n        decodeURIComponent(search)\r\n          .replace(/\"/g, '\\\\\"')\r\n          .replace(/&/g, '\",\"')\r\n          .replace(/=/g, '\":\"')\r\n          .replace(/\\+/g, ' ') +\r\n        '\"}'\r\n    )\r\n  },\r\n  getLoginPath () {\r\n    let flg = true\r\n    const { hash, search } = window.location\r\n    const params = flg && (hash.slice('2') || search)\r\n    let path = '/login'\r\n    params && (path += '?redirect=' + params)\r\n    return path\r\n  },\r\n  getTimeStamp (str, accuracy, type) {\r\n    const units = {\r\n      ms: 1,\r\n      s: 1000,\r\n      min: 1000 * 60,\r\n      h: 1000 * 60 * 60,\r\n      d: 1000 * 60 * 60 * 24,\r\n      mon: 1000 * 60 * 60 * 24 * 30\r\n    }\r\n    const operation = ['-', '+']\r\n    // 00:00:00\r\n    let time = new Date(new Date().toLocaleDateString()).getTime()\r\n    if (type === 'end') {\r\n      time += 24 * 60 * 60 * 1000 - 1\r\n    }\r\n    if (str.length) {\r\n      const unit = str.slice(-1)\r\n      if (Object.keys(units).indexOf(unit) === -1 || Object.keys(units).indexOf(accuracy) === -1) {\r\n        throw new Error(`时间单位类型为['ms', 's', 'mim', 'h','d','mon']`)\r\n      }\r\n      const sign = str[0]\r\n      if (operation.indexOf(sign) === -1) {\r\n        throw new Error(`支持运算符类型为['-', '+']`)\r\n      }\r\n\r\n      const num = parseInt(str.slice(1, -1))\r\n      if (!isNaN(num)) {\r\n        if (sign === '-') {\r\n          time -= num * units[unit]\r\n        } else {\r\n          time += num * units[unit]\r\n        }\r\n      }\r\n    }\r\n    return parseInt(time / units[accuracy])\r\n  },\r\n  // 数据依据time排序\r\n  dataSort (data) {\r\n    return data.sort((a, b) => a.timestamp - b.timestamp)\r\n  },\r\n  // 把时间日期转成时间戳\r\n  timestamp (time) {\r\n    return new Date(time).getTime()\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js","<template>\r\n<el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"140px\" class=\"file-ruleForm\" size=\"small\" >\r\n  <el-form-item label=\"表头行数\" prop=\"headerRowNum\">\r\n    <el-input v-model=\"ruleForm.headerRowNum\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"拆分单个excel条数\" prop=\"fileNum\">\r\n    <el-input v-model=\"ruleForm.fileNum\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"sheet名称\" prop=\"sheetName\">\r\n    <el-select v-model=\"ruleForm.sheetName\" placeholder=\"请选择\" @change=\"sheetNameChange\">\r\n    <el-option\r\n      v-for=\"item in options\"\r\n      :key=\"item.value\"\r\n      :label=\"item.label\"\r\n      :value=\"item.value\">\r\n    </el-option>\r\n  </el-select>\r\n  </el-form-item>\r\n  <el-form-item label=\"拆分后sheet名称\" prop=\"splitSheetName\">\r\n    <el-input v-model=\"ruleForm.splitSheetName\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"拆分开始日期\" prop=\"fileDate\">\r\n    <el-input v-model=\"ruleForm.fileDate\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"excel文件\" prop=\"file\">\r\n    <el-upload\r\n      ref=\"upload\"\r\n      :action=\"uploadUrl\"\r\n      :limit=\"1\"\r\n       accept=\".xlsx,.xls,.xlsm\"\r\n       :data=\"ruleForm\"\r\n       :on-success=\"handleSuccessUpload\"\r\n      :auto-upload=\"false\">\r\n      <el-button slot=\"trigger\" size=\"small\">选取文件</el-button>\r\n      <span class=\"el-upload__tip content_upload__tip\" slot=\"tip\">支持xls/xlsx文件</span>\r\n    </el-upload>\r\n  </el-form-item>\r\n  <el-form-item class=\"content_button\" v-loading=\"loading\">\r\n    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">拆分文件</el-button>\r\n  </el-form-item>\r\n  <div>\r\n      <el-alert type = 'warning' center show-icon effect=\"dark\" v-show=\"showRes == 1\" :title=\"result\"></el-alert>\r\n      <el-alert type = 'success' center show-icon effect=\"dark\" v-show=\"showRes == 2\" :title=\"result\"></el-alert>\r\n      <el-alert type = 'error' center show-icon effect=\"dark\" v-show=\"showRes == 3\" :title=\"result\"></el-alert>\r\n  </div>\r\n  </el-form>\r\n</template>\r\n<script>\r\nimport { Message } from 'element-ui'\r\nimport * as env from '@/api/base_url'\r\nimport { splitFileResult } from '@/api'\r\nimport { util } from '@/utils/util'\r\nconst baseURL = env.baseURL\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      options: [{\r\n        value: 'Sheet0',\r\n        label: '默认-Sheet0'\r\n      }, {\r\n        value: 'Template',\r\n        label: '英国-Template'\r\n      }, {\r\n        value: 'Modèle',\r\n        label: '法国-Modèle'\r\n      }, {\r\n        value: 'Vorlage',\r\n        label: '德国-Vorlage'\r\n      }, {\r\n        value: 'Modello',\r\n        label: '意大利-Modello'\r\n      }, {\r\n        value: 'Plantilla',\r\n        label: '西班牙-Plantilla'\r\n      }],\r\n      showRes: 0,\r\n      result: '',\r\n      uploadUrl: '',\r\n      loading: false,\r\n      splitFileTimer: '',\r\n      ruleForm: {\r\n        headerRowNum: 3,\r\n        fileNum: 200,\r\n        sheetName: 'Sheet0',\r\n        splitSheetName: 'Sheet0',\r\n        fileDate: ''\r\n      },\r\n      rules: {\r\n        headerRowNum: [\r\n          { required: true, message: '请输入表头行数', trigger: 'blur' }\r\n        ],\r\n        fileNum: [\r\n          { required: true, message: '请输入单个excel条数', trigger: 'blur' }\r\n        ],\r\n        sheetName: [\r\n          { required: true, message: '请选择sheet名称', trigger: 'blur' }\r\n        ],\r\n        splitSheetName: [\r\n          { required: true, message: '请输入拆分后sheet名称', trigger: 'blur' }\r\n        ],\r\n        fileDate: [\r\n          { required: true, message: '请输入拆分开始日期', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.uploadUrl = baseURL + '/api/file/split'\r\n    this.ruleForm.fileDate = util.dateToStr(new Date(), 1)\r\n  },\r\n  // 销毁定时器\r\n  beforeDestroy () {\r\n    if (this.splitFileTimer) {\r\n      clearInterval(this.splitFileTimer)\r\n    }\r\n  },\r\n  methods: {\r\n    sheetNameChange (val) {\r\n      this.ruleForm.splitSheetName = val\r\n    },\r\n    submitForm (formName) {\r\n      this.result = ''\r\n      this.showRes = 0\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          this.$refs.upload.submit()\r\n          this.loading = true\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    handleSuccessUpload (res) {\r\n      if (res.status) {\r\n        this.result = '请等待拆分结果！'\r\n        this.showRes = 1\r\n        this.splitFileTimer = setInterval(() => {\r\n          this.getSplitFileResult(res.result)\r\n        }, 5000)\r\n      } else {\r\n        this.result = res.message\r\n        this.showRes = 3\r\n        Message({\r\n          message: this.result,\r\n          type: 'error',\r\n          duration: 3 * 1000,\r\n          showClose: true\r\n        })\r\n      }\r\n      this.loading = false\r\n    },\r\n    async getSplitFileResult (fileName) {\r\n      const res = await splitFileResult({'fileName': fileName})\r\n      if (res.result) {\r\n        if (!res.result.running) {\r\n          if (!res.result.runningResult) {\r\n            this.result = '拆分成功'\r\n            this.showRes = 2\r\n          } else {\r\n            this.result = res.result.runningResult\r\n            this.showRes = 3\r\n          }\r\n          clearInterval(this.splitFileTimer)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.file-ruleForm{\r\n  width: 400px;\r\n  margin: 0 auto;\r\n  .content_button{\r\n    margin-left: 80px;\r\n  }\r\n  .content_upload__tip{\r\n    margin-left: 10px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/split_file.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"ruleForm\",staticClass:\"file-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"140px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"表头行数\",\"prop\":\"headerRowNum\"}},[_c('el-input',{model:{value:(_vm.ruleForm.headerRowNum),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"headerRowNum\", $$v)},expression:\"ruleForm.headerRowNum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拆分单个excel条数\",\"prop\":\"fileNum\"}},[_c('el-input',{model:{value:(_vm.ruleForm.fileNum),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"fileNum\", $$v)},expression:\"ruleForm.fileNum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"sheet名称\",\"prop\":\"sheetName\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.sheetNameChange},model:{value:(_vm.ruleForm.sheetName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"sheetName\", $$v)},expression:\"ruleForm.sheetName\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拆分后sheet名称\",\"prop\":\"splitSheetName\"}},[_c('el-input',{model:{value:(_vm.ruleForm.splitSheetName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"splitSheetName\", $$v)},expression:\"ruleForm.splitSheetName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拆分开始日期\",\"prop\":\"fileDate\"}},[_c('el-input',{model:{value:(_vm.ruleForm.fileDate),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"fileDate\", $$v)},expression:\"ruleForm.fileDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"excel文件\",\"prop\":\"file\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"action\":_vm.uploadUrl,\"limit\":1,\"accept\":\".xlsx,.xls,.xlsm\",\"data\":_vm.ruleForm,\"on-success\":_vm.handleSuccessUpload,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('span',{staticClass:\"el-upload__tip content_upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"支持xls/xlsx文件\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"content_button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"拆分文件\")])],1),_vm._v(\" \"),_c('div',[_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRes == 1),expression:\"showRes == 1\"}],attrs:{\"type\":\"warning\",\"center\":\"\",\"show-icon\":\"\",\"effect\":\"dark\",\"title\":_vm.result}}),_vm._v(\" \"),_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRes == 2),expression:\"showRes == 2\"}],attrs:{\"type\":\"success\",\"center\":\"\",\"show-icon\":\"\",\"effect\":\"dark\",\"title\":_vm.result}}),_vm._v(\" \"),_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRes == 3),expression:\"showRes == 3\"}],attrs:{\"type\":\"error\",\"center\":\"\",\"show-icon\":\"\",\"effect\":\"dark\",\"title\":_vm.result}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-fadb07bc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/split_file.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fadb07bc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./split_file.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./split_file.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./split_file.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fadb07bc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./split_file.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/split_file.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}